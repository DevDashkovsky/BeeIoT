# Управление ульями

Этот раздел описывает API для управления ульями. Все запросы требуют аутентификации (JWT токен в cookie).

## Создание улья

Создает новый улей для текущего пользователя.

**URL:** `/api/hive/create`
**Метод:** `POST`
**Аутентификация:** Требуется

**Тело запроса (JSON):**

```json
{
  "name": "Название улья"
}
```

**Ответ (Успех):**

*   **Код:** 200 OK
*   **Тело:**
    ```json
    {
      "status": "ok",
      "message": "Улей успешно создан",
      "data": null
    }
    ```

**Ответ (Ошибка):**

*   **Код:** 500 Internal Server Error
*   **Тело:**
    ```json
    {
      "status": "error",
      "message": "Внутренняя ошибка сервера"
    }
    ```

---

## Получение списка ульев

Возвращает список всех ульев текущего пользователя.

**URL:** `/api/hive/list`
**Метод:** `GET`
**Аутентификация:** Требуется

**Ответ (Успех):**

*   **Код:** 200 OK
*   **Тело:**
    ```json
    {
      "status": "ok",
      "message": "Список ульев успешно получен",
      "data": [
        {
          "id": 1,
          "name": "Улей 1",
          "email": "user@example.com",
          "temperature_check": "2023-10-27T10:00:00Z",
          "noise_check": "2023-10-27T10:00:00Z"
        },
        {
          "id": 2,
          "name": "Улей 2",
          "email": "user@example.com",
          "temperature_check": "2023-10-27T11:00:00Z",
          "noise_check": "2023-10-27T11:00:00Z"
        }
      ]
    }
    ```

**Ответ (Ошибка):**

*   **Код:** 500 Internal Server Error

---

## Получение информации об улье

Возвращает детальную информацию о конкретном улье по его имени.

**URL:** `/api/hive/`
**Метод:** `GET`
**Аутентификация:** Требуется
**Параметры запроса:**
*   `name`: Название улья (обязательно)

**Пример запроса:** `/api/hive/?name=Улей 1`

**Ответ (Успех):**

*   **Код:** 200 OK
*   **Тело:**
    ```json
    {
      "status": "ok",
      "message": "Улей успешно получен",
      "data": {
        "id": 1,
        "name": "Улей 1",
        "email": "user@example.com",
        "temperature_check": "2023-10-27T10:00:00Z",
        "noise_check": "2023-10-27T10:00:00Z"
      }
    }
    ```

**Ответ (Ошибка):**

*   **Код:** 400 Bad Request (если не указан параметр `name`)
*   **Код:** 404 Not Found (если улей не найден)

---

## Обновление улья

Обновляет название существующего улья.

**URL:** `/api/hive/update`
**Метод:** `PUT`
**Аутентификация:** Требуется

**Тело запроса (JSON):**

```json
{
  "old_name": "Старое название",
  "new_name": "Новое название"
}
```

**Ответ (Успех):**

*   **Код:** 200 OK
*   **Тело:**
    ```json
    {
      "status": "ok",
      "message": "улей успешно обновлен",
      "data": null
    }
    ```

**Ответ (Ошибка):**

*   **Код:** 400 Bad Request (если имена пустые)
*   **Код:** 500 Internal Server Error

---

## Удаление улья

Удаляет улей по его названию.

**URL:** `/api/hive/delete`
**Метод:** `DELETE`
**Аутентификация:** Требуется

**Тело запроса (JSON):**

```json
{
  "name": "Название улья"
}
```

**Ответ (Успех):**

*   **Код:** 200 OK
*   **Тело:**
    ```json
    {
      "status": "ok",
      "message": "Улей успешно удален",
      "data": null
    }
    ```

**Ответ (Ошибка):**

*   **Код:** 400 Bad Request (если имя пустое)
*   **Код:** 500 Internal Server Error

